(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{453:function(e,t,n){},454:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(42),a=n.n(r),i=n(52),o=n(23),s=n(18),j=n(13),l=n(1),u=n(33),d=n(475),b=n(476),O=n(477),h=n(478),m=n(479),x=n(233),f=n(3),p=function(e){var t,n=e.children,r=Object(c.useMemo)((function(){return{size:"2em"}}),[]);return Object(f.jsxs)(d.a,{container:!0,justifyContent:"center",children:[Object(f.jsx)(b.a,{position:"static",children:Object(f.jsxs)(O.a,{variant:"dense",children:[Object(f.jsx)(h.a,{color:"inherit","aria-label":"menu",children:Object(f.jsx)(m.a,{component:i.b,to:"/main",color:"inherit","aria-label":"menu",children:Object(f.jsx)(l.b.Provider,{value:r,children:Object(f.jsx)(u.c,{})})})}),Object(f.jsx)(x.a,{variant:"h6",color:"inherit",children:"Weather App"})]})}),Object(f.jsx)(d.a,(t={item:!0,xs:12,md:11},Object(j.a)(t,"md",10),Object(j.a)(t,"lg",8),Object(j.a)(t,"children",n),t))]})},y=n(495),v=(n(257),function(e){var t=e.city,n=e.country;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(x.a,{display:"inline",variant:"h4",children:[t,","]}),Object(f.jsx)(x.a,{display:"inline",style:{fontWeight:"300",fontStyle:"italic"},variant:"h6",children:n})]})}),g=n(480),C={clouds:u.a,clear:u.c,rain:u.e,snow:u.g,drizzle:u.f,thunderstorm:u.h,fog:u.d,haze:u.b,mist:u.b},w=function(e){var t=e.state,n=C[t];return Object(f.jsx)(n,{})},E=function(e){var t=e.temperature,n=e.weather,r=Object(c.useMemo)((function(){return{size:"5em"}}),[]);return Object(f.jsxs)(d.a,{container:!0,item:!0,direction:"row",justifyContent:"center",alignContent:"center",spacing:1,children:[Object(f.jsx)(l.b.Provider,{value:r,children:n?Object(f.jsx)(w,{state:n}):Object(f.jsx)(g.a,{variant:"circle",height:80,width:80,animation:"wave"})}),t?Object(f.jsx)(x.a,{display:"inline",variant:"h2",children:t}):Object(f.jsx)(g.a,{variant:"rect",height:80,width:80,animation:"pulse"})]})},T=function(e){var t=e.humidity,n=e.wind;return Object(f.jsxs)(d.a,{container:!0,item:!0,spacing:1,xs:12,direction:"row",justifyContent:"center",alignItems:"center",children:[Object(f.jsxs)(x.a,{style:{marginRight:"10px",marginTop:"10px"},children:["Humedad:",t,"%"]}),Object(f.jsxs)(x.a,{style:{marginTop:"10px"},children:["Viento:",n,"Km/h"]})]})},I=n(481),A=n(482),k=n(224),F=n(225),_=n(103),L=n(100),S=n(486),M=n(231),D=function(e){var t=e.data,n=Object(c.useMemo)((function(){return{top:20,bottom:20,left:5,right:5}}),[]);return Object(f.jsx)(I.a,{height:250,width:"95%",children:Object(f.jsxs)(A.a,{margin:n,data:t,children:[Object(f.jsx)(k.a,{dataKey:"dayHour"}),Object(f.jsx)(F.a,{}),Object(f.jsx)(_.a,{}),Object(f.jsx)(L.a,{}),Object(f.jsx)(S.a,{}),Object(f.jsx)(M.a,{type:"monotone",dataKey:"min",stroke:"#3f51b5"}),Object(f.jsx)(M.a,{type:"monotone",dataKey:"m\xe1x",stroke:"#ff3c00"})]})})},R=function(e){var t=e.weekDay,n=e.hour,c=e.state,r=e.temperature;return Object(f.jsxs)(d.a,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",children:[Object(f.jsx)(d.a,{item:!0,children:Object(f.jsx)(x.a,{children:t})}),Object(f.jsx)(d.a,{item:!0,children:Object(f.jsx)(x.a,{children:n})}),Object(f.jsx)(d.a,{item:!0,children:Object(f.jsx)(l.b.Provider,{value:{size:"3em"},children:Object(f.jsx)(w,{state:c})})}),Object(f.jsx)(d.a,{item:!0,children:Object(f.jsxs)(x.a,{children:[r,"\xb0"]})})]})},H=function(e){var t=e.forecastItemList;return Object(f.jsx)(d.a,{container:!0,justifyContent:"space-around",alignItems:"center",spacing:3,children:t&&t.map((function(e){return function(e){var t=e.weekDay,n=e.hour,c=e.state,r=e.temperature;return Object(f.jsx)(d.a,{"data-testid":"forecast-item",item:!0,children:Object(f.jsx)(R,{hour:n,weekDay:t,state:c,temperature:r})},"".concat(t).concat(n))}(e)}))})},N=n(56),P=n.n(N),z=n(119),K=n(120),W=n.n(K),q=function(e,t,n){return"https://api.openweathermap.org/data/2.5/".concat(e,"?q=").concat(t,",").concat(n,"&appid=823dee69d4da95742d6df214be11bfb2")},B=n(153),V=n(70),J=n.n(V),Y=(n(198),n(71)),U=n.n(Y),X=function(e){return[0,1,2,3,4,5].map((function(e){return J()().add(e,"d")})).map((function(t){var n=e.list.filter((function(e){return J.a.unix(e.dt).dayOfYear()===t.dayOfYear()})).map((function(e){return e.main.temp}));return{dayHour:t.format("ddd"),min:n.length>1?Number(U()(Math.min.apply(Math,Object(B.a)(n))).from("K").to("C").toFixed(0)):0,"m\xe1x":n.length>1?Number(U()(Math.max.apply(Math,Object(B.a)(n))).from("K").to("C").toFixed(0)):0}}))},G=function(e){var t=[4,8,12,16,20,24];return e.list.filter((function(e,n){return t.includes(n)})).map((function(e){return{hour:J.a.unix(e.dt).hour(),weekDay:J.a.unix(e.dt).format("dddd"),state:e.weather[0].main.toLowerCase(),temperature:U()(e.main.temp).from("K").to("C").toFixed(0)}}))},Q=function(e,t){return"".concat(e," - ").concat(t)},Z=function(e,t,n){var r=Object(o.g)(),a=r.city,i=r.countryCode;return Object(c.useDebugValue)("Estoy en mi customHook y puedo mostrar informacion para retroalimentar al programador ".concat(a)),Object(c.useEffect)((function(){var c=q("forecast",a,i),r=function(){var e=Object(z.a)(P.a.mark((function e(){var t,r,o,s,l;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Q(a,i),e.prev=1,e.next=4,W.a.get(c);case 4:r=e.sent,o=r.data,s=X(o),n({type:"SET_DATA_FORECAST",payload:Object(j.a)({},t,s)}),l=G(o),n({type:"SET_DATA_FORE_ITEM_LIST",payload:Object(j.a)({},t,l)}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),o=Q(a,i);e&&t&&!e[o]&&!t[o]&&r()}),[a,i,n,e,t]),[a,i]},$=[{city:"Bogota",country:"Colombia",countryCode:"CO"},{city:"Madrid",country:"Espa\xf1a",countryCode:"ES"},{city:"Buenos Aires",country:"Argentina",countryCode:"AR"},{city:"Ciudad de M\xe9xico",country:"M\xe9xico",countryCode:"MX"}],ee=function(e,t,n){var c=U()(e.main.temp).from("K").to("C").toFixed(1)+"\xb0c",r=e.main.humidity,a=e.wind.speed,i=Q(t,n),o={temperature:c,state:e.weather[0].main.toLowerCase(),humidity:r,wind:a};return Object(j.a)({},i,o)},te=function(e,t){var n=Object(c.useState)(null),r=Object(s.a)(n,2),a=r[0],i=r[1];return Object(c.useEffect)((function(){var n=function(){var t=Object(z.a)(P.a.mark((function t(n,c){var r,a,o,s,l,u,d;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=Q(n,c),e({type:"SET_ALL_WEATHER",payload:Object(j.a)({},r,{})}),a=q("weather",n,c),t.next=6,W.a.get(a);case 6:o=t.sent,s=o.data,l=ee(s,n,c),e({type:"SET_ALL_WEATHER",payload:l}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),t.t0.response?(u=t.t0.response,u.data,d=u.status,i("Ha ocurrido un error en el servidor del clima",d)):t.t0.request?(console.log("Servidor innaccecible o no hay conexion a internet"),i("Verifique su conexion a interntet")):(console.log("errores imprevistos"),i("Error al cargar los datos"));case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,n){return t.apply(this,arguments)}}();$.forEach((function(e){var c=e.city,r=e.countryCode;t[Q(c,r)]||(console.log("Pase por aqui"),n(c,r))}))}),[e,t]),[a,i]},ne=n(29);n(487),n(491);var ce="SET_ALL_WEATHER",re="SET_DATA_FORECAST",ae="SET_DATA_FORE_ITEM_LIST",ie=Object(c.createContext)(),oe=Object(c.createContext)(),se={allweather:{},allDataForecast:{},allForecastItemList:{}},je=function(e){var t=e.children,n=Object(c.useCallback)((function(e,t){switch(t.type){case ce:var n=t.payload,c=Object(ne.a)(Object(ne.a)({},e.allweather),n);return Object(ne.a)(Object(ne.a)({},e),{},{allweather:c});case re:var r=t.payload,a=Object(ne.a)(Object(ne.a)({},e.allDataForecast),r);return Object(ne.a)(Object(ne.a)({},e),{},{allDataForecast:a});case ae:var i=t.payload,o=Object(ne.a)(Object(ne.a)({},e.allForecastItemList),i);return Object(ne.a)(Object(ne.a)({},e),{},{allForecastItemList:o});default:return e}}),[]),r=Object(c.useReducer)(n,se),a=Object(s.a)(r,2),i=a[0],o=a[1];return Object(f.jsx)(oe.Provider,{value:o,children:Object(f.jsx)(ie.Provider,{value:i,children:t})})},le=function(){var e=Object(c.useContext)(ie),t=Object(c.useContext)(oe);if(!t)throw Error("Must set dispatch or state provider");return[e,t]},ue=function(){var e,t=le(),n=Object(s.a)(t,2),c=n[0],r=n[1],a=c.allDataForecast,i=c.allForecastItemList,o=Z(a,i,r),j=Object(s.a)(o,2),l=j[0],u=j[1],b=Q(l,u),O=c.allweather[b],h=a[b],m=i[b],x=(e=u,$.filter((function(t){return t.countryCode===e}))[0].country),g=null===O||void 0===O?void 0:O.temperature,C=null===O||void 0===O?void 0:O.state,w=null===O||void 0===O?void 0:O.humidity,I=null===O||void 0===O?void 0:O.wind;return Object(f.jsx)(p,{children:Object(f.jsxs)(d.a,{container:!0,justify:"space-around",direction:"column",spacing:2,children:[Object(f.jsx)(d.a,{item:!0,container:!0,xs:12,justify:"center",alignItems:"flex-end",children:Object(f.jsx)(v,{city:l,country:x})}),Object(f.jsxs)(d.a,{container:!0,item:!0,xs:12,justify:"center",children:[Object(f.jsx)(E,{weather:C,temperature:g}),w&&I&&Object(f.jsx)(T,{humidity:w,wind:I})]}),Object(f.jsx)(d.a,{item:!0,children:!h&&!m&&Object(f.jsx)(y.a,{})}),Object(f.jsx)(d.a,{item:!0,children:h&&Object(f.jsx)(D,{data:h})}),Object(f.jsx)(d.a,{item:!0,children:m&&Object(f.jsx)(H,{forecastItemList:m})})]})})},de=n(456),be=n(493),Oe=n(488),he=n(489),me=n(496),xe=Object(c.memo)((function(e){var t=e.city,n=e.country,c=e.eventoOnClick,r=e.weather;return Object(f.jsx)(me.a,{button:!0,onClick:c,children:Object(f.jsxs)(d.a,{container:!0,item:!0,xs:12,justifyContent:"center",alignItems:"center",children:[Object(f.jsx)(d.a,{item:!0,xs:12,sm:8,children:Object(f.jsx)(v,{city:t,country:n})}),Object(f.jsx)(d.a,{item:!0,xs:12,md:3,container:!0,justifyContent:"center",children:Object(f.jsx)(E,{temperature:r&&r.temperature,weather:r&&r.state})})]})})})),fe=Object(c.memo)((function(e){var t=e.cities,n=e.onClickCity,c=le(),r=Object(s.a)(c,2),a=r[0].allweather,i=r[1],o=te(i,a),j=Object(s.a)(o,2),l=j[0],u=j[1];return Object(f.jsxs)(f.Fragment,{children:[l&&Object(f.jsx)(be.a,{severity:"error",onClose:function(){return u(null)},children:Object(f.jsx)(Oe.a,{children:l})}),Object(f.jsx)(he.a,{children:t.map((function(e,t){return(c=function(){return n(e.city,e.countryCode)},function(e,t){var n=e.city;return Object(f.jsx)(xe,Object(ne.a)(Object(ne.a)({},e),{},{eventoOnClick:c,weather:t}),n)})(e,a[Q(e.city,e.countryCode)]);var c}))})]})}));xe.displayName="PUTOOO";var pe=fe,ye=function(){var e=Object(o.f)(),t=Object(c.useCallback)((function(t,n){e.push("/city/".concat(n,"/").concat(t))}),[e]);return Object(f.jsx)(p,{children:Object(f.jsx)(de.a,{elevation:5,children:Object(f.jsx)(pe,{onClickCity:t,cities:$})})})},ve=function(){return Object(f.jsx)(d.a,{container:!0,direction:"column",justifyContent:"center",className:"full",children:Object(f.jsx)("div",{className:"highligth",children:Object(f.jsxs)(d.a,{item:!0,container:!0,justifyContent:"center",alignItems:"center",children:[Object(f.jsx)(d.a,{item:!0,children:Object(f.jsx)(l.b.Provider,{value:{size:"6em"},children:Object(f.jsx)(u.c,{})})}),Object(f.jsxs)(d.a,{item:!0,container:!0,direction:"column",justifyContent:"center",alignItems:"center",children:[Object(f.jsx)(x.a,{variant:"h4",color:"inherit",children:"404 | Not Found"}),Object(f.jsx)(m.a,{color:"inherit","aria-label":"menu",component:i.b,to:"/welcome",children:"Ir al inicio"})]})]})})})},ge=n(226),Ce=n.n(ge),we=n(230),Ee=function(){var e=Object(c.useRef)(null),t=Object(c.useState)(0),n=Object(s.a)(t,2),r=n[0],a=n[1];return Object(c.useEffect)((function(){return r||(console.log("Moficamos el estado vanta"),a(Ce()({THREE:we,el:e.current}))),function(){r&&(r.destroy(),console.log("libero los recursos"))}}),[r]),[e]},Te=function(e){var t=e.children,n=Ee(),c=Object(s.a)(n,1)[0];return Object(f.jsx)("div",{className:"full",ref:c,children:t})},Ie=function(e){return Object(f.jsx)(Te,{children:Object(f.jsx)(d.a,{container:!0,direction:"column",justifyContent:"center",className:"full",children:Object(f.jsx)("div",{className:"highligth",children:Object(f.jsxs)(d.a,{item:!0,container:!0,justifyContent:"center",alignItems:"center",children:[Object(f.jsx)(d.a,{item:!0,children:Object(f.jsx)(l.b.Provider,{value:{size:"6em",color:"orange"},children:Object(f.jsx)(u.c,{})})}),Object(f.jsxs)(d.a,{item:!0,container:!0,direction:"column",justifyContent:"center",alignItems:"center",children:[Object(f.jsx)(x.a,{variant:"h4",color:"inherit",children:Object(f.jsx)("span",{style:{color:"blue"},children:"Weather App"})}),Object(f.jsx)(m.a,{color:"inherit","aria-label":"menu",component:i.b,to:"/main",children:"Ingresar"})]})]})})})})},Ae=function(){return Object(f.jsx)(je,{children:Object(f.jsx)(i.a,{children:Object(f.jsx)("div",{children:Object(f.jsxs)(o.c,{children:[Object(f.jsx)(o.a,{exact:!0,path:"/main",children:Object(f.jsx)(ye,{})}),Object(f.jsx)(o.a,{exact:!0,path:"/city/:countryCode/:city",children:Object(f.jsx)(ue,{})}),Object(f.jsx)(o.a,{exact:!0,path:"/",component:Ie}),Object(f.jsx)(o.a,{component:ve})]})})})})},ke=function(){return Object(f.jsx)(Ae,{})};n(453);a.a.render(Object(f.jsx)(ke,{}),document.getElementById("root"))}},[[454,1,2]]]);
//# sourceMappingURL=main.07117128.chunk.js.map